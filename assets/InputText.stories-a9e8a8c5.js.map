{"version":3,"file":"InputText.stories-a9e8a8c5.js","sources":["../../../../packages/react/src/components/InputText/icons/x-mark.tsx","../../../../packages/react/src/components/InputText/InputText.tsx","../../../../packages/react/src/components/InputText/stories/icons/paw.tsx"],"sourcesContent":["const xMark = (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\">\n    <path d=\"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z\" />\n  </svg>\n);\n\nexport default xMark;\n","import { forwardRef, memo, useCallback, useRef } from 'react';\nimport cn from 'classnames';\n\nimport { Label } from '../Label';\n\nimport { InputProps, InputTextChangeEvent } from './InputText.types';\nimport xMark from './icons/x-mark';\n\nconst RCN = 'thuiInputText';\n\nexport const InputText = memo(\n  forwardRef<HTMLInputElement, InputProps>(\n    (\n      {\n        id,\n        name,\n        label,\n        size = 'md',\n        isInvalid,\n        isRequired = false,\n        className,\n        disabled,\n        value,\n        onChange,\n        error,\n        clearable = false,\n        clearIcon = xMark,\n        renderAddonLeft,\n        renderAddonRight,\n        ...restProps\n      }: InputProps,\n      ref\n    ) => {\n      const inputRef = useRef<HTMLInputElement | null>(null);\n      const rootClasses = cn(RCN, className, `${RCN}--${size}`, {\n        [`${RCN}--invalid`]: isInvalid,\n        [`${RCN}--filled`]: !!value\n      });\n\n      const isUncontrolled = !onChange;\n      const controls = isUncontrolled ? {} : { value, onChange };\n\n      const handleClear = useCallback(() => {\n        const setter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, \"value\")?.set;\n\n        if (inputRef.current && setter) {\n          setter.call(inputRef.current, '');\n\n          inputRef.current.dispatchEvent(new Event('change', { bubbles: true }));\n        } else {\n          onChange?.({ target: { value: '' } } as InputTextChangeEvent);\n        }\n      }, [onChange])\n\n      const setRefHandler = useCallback((el: HTMLInputElement | null) => {\n        inputRef.current = el;\n  \n        if (typeof ref === 'function') {\n          ref(el);\n        } else if (ref) {\n          ref.current = el;\n        }\n      }, [ref]);\n\n      return (\n        <div className={rootClasses}>\n          <div className={`${RCN}__inputWrapper`}>\n            {renderAddonLeft}\n            <input\n              ref={setRefHandler}\n              id={id}\n              name={name}\n              className={`${RCN}__input`}\n              disabled={disabled}\n              {...controls}\n              {...restProps}\n            />\n            {renderAddonRight}\n            {clearable && value && (\n              <div className={`${RCN}__clear`} onClick={handleClear}>\n                {clearIcon}\n              </div>\n            )}\n          </div>\n          {label && (\n            <Label\n              label={label}\n              htmlFor={name}\n              isRequired={isRequired}\n              className={`${RCN}__label`}\n              disabled={disabled}\n            />\n          )}\n          {error && <div className={`${RCN}__error`}>{error}</div>}\n        </div>\n      );\n    }\n  )\n);\n","const paw = (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n    <path d=\"M226.5 92.9c14.3 42.9-.3 86.2-32.6 96.8s-70.1-15.6-84.4-58.5s.3-86.2 32.6-96.8s70.1 15.6 84.4 58.5zM100.4 198.6c18.9 32.4 14.3 70.1-10.2 84.1s-59.7-.9-78.5-33.3S-2.7 179.3 21.8 165.3s59.7 .9 78.5 33.3zM69.2 401.2C121.6 259.9 214.7 224 256 224s134.4 35.9 186.8 177.2c3.6 9.7 5.2 20.1 5.2 30.5v1.6c0 25.8-20.9 46.7-46.7 46.7c-11.5 0-22.9-1.4-34-4.2l-88-22c-15.3-3.8-31.3-3.8-46.6 0l-88 22c-11.1 2.8-22.5 4.2-34 4.2C84.9 480 64 459.1 64 433.3v-1.6c0-10.4 1.6-20.8 5.2-30.5zM421.8 282.7c-24.5-14-29.1-51.7-10.2-84.1s54-47.3 78.5-33.3s29.1 51.7 10.2 84.1s-54 47.3-78.5 33.3zM310.1 189.7c-32.3-10.6-46.9-53.9-32.6-96.8s52.1-69.1 84.4-58.5s46.9 53.9 32.6 96.8s-52.1 69.1-84.4 58.5z\" />\n  </svg>\n);\n\nexport default paw;\n"],"names":["xMark","jsx","xMark$1","RCN","InputText","memo","forwardRef","id","name","label","size","isInvalid","isRequired","className","disabled","value","onChange","error","clearable","clearIcon","renderAddonLeft","renderAddonRight","restProps","ref","inputRef","useRef","rootClasses","cn","controls","handleClear","useCallback","setter","_a","setRefHandler","el","jsxs","Label","paw","paw$1"],"mappings":"qNAAA,MAAMA,EACHC,EAAA,MAAA,CAAI,MAAM,6BAA6B,QAAQ,cAC9C,SAACA,EAAA,OAAA,CAAK,EAAE,yRAAA,CAA0R,CACpS,CAAA,EAGFC,EAAeF,ECEfG,EAAA,gBAEOC,EAAAC,EAAA,KAAkBC,EAAA,WACvB,CAAA,CAEI,GAAAC,EACE,KAAAC,EACA,MAAAC,EACA,KAAAC,EAAA,KACO,UAAAC,EACP,WAAAC,EAAA,GACa,UAAAC,EACb,SAAAC,EACA,MAAAC,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,EAAA,GACY,UAAAC,EAAAnB,EACA,gBAAAoB,EACZ,iBAAAC,EACA,GAAAC,CACG,EAAAC,IAAA,CAIL,MAAAC,EAAAC,SAAA,IAAA,EACAC,EAAAC,EAAAxB,EAAAU,EAAA,GAAAV,CAAA,KAAAO,CAAA,GAAA,CAA0D,CAAA,GAAAP,CAAA,WAAA,EAAAQ,EACnC,CAAA,GAAAR,CAAA,UAAA,EAAA,CAAA,CAAAY,CACC,CAAA,EAIxBa,EADA,CAAAZ,EACA,CAAA,EAAA,CAAA,MAAAD,EAAA,SAAAC,CAAA,EAEAa,EAAAC,EAAAA,YAAA,IAAA,OACE,MAAAC,GAAAC,EAAA,OAAA,yBAAA,OAAA,iBAAA,UAAA,OAAA,IAAA,YAAAA,EAAA,IAEAR,EAAA,SAAAO,GACEA,EAAA,KAAAP,EAAA,QAAA,EAAA,EAEAA,EAAA,QAAA,cAAA,IAAA,MAAA,SAAA,CAAA,QAAA,EAAA,CAAA,CAAA,GAEAR,GAAA,MAAAA,EAAA,CAAA,OAAA,CAAA,MAAA,EAAA,CAAA,EACF,EAAA,CAAAA,CAAA,CAAA,EAGFiB,EAAAH,cAAAI,GAAA,CACEV,EAAA,QAAAU,EAEA,OAAAX,GAAA,WACEA,EAAAW,CAAA,EAAMX,IAENA,EAAA,QAAAW,EACF,EAAA,CAAAX,CAAA,CAAA,EAGF,OAAAY,EAAA,MAAA,CAAA,UAAAT,EAAA,SAAA,CAEIS,EAAA,MAAA,CAAA,UAAA,GAAAhC,CAAA,iBAAA,SAAA,CACGiB,EAAAnB,EACD,QAAC,CAAA,IAAAgC,EACM,GAAA1B,EACL,KAAAC,EACA,UAAA,GAAAL,CAAA,UACiB,SAAAW,EACjB,GAAAc,EACI,GAAAN,CACA,CAAA,EACND,EACCH,GAAAH,GAAAd,EAAA,MAAA,CAAA,UAAA,GAAAE,CAAA,UAAA,QAAA0B,EAAA,SAAAV,CAAA,CAAA,CAIC,EAAA,EAEJV,GAAAR,EAEEmC,EAAC,CAAA,MAAA3B,EACC,QAAAD,EACS,WAAAI,EACT,UAAA,GAAAT,CAAA,UACiB,SAAAW,CACjB,CAAA,EACFG,GAAAhB,EAAA,MAAA,CAAA,UAAA,GAAAE,CAAA,UAAA,SAAAc,EAAA,CAEgD,CAAA,CAAA,CACpD,CAEJ,CAEJ,i2EClGA,MAAMoB,EACHpC,EAAA,MAAA,CAAI,MAAM,6BAA6B,QAAQ,cAC9C,SAACA,EAAA,OAAA,CAAK,EAAE,oqBAAA,CAAqqB,CAC/qB,CAAA,EAGFqC,EAAeD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}